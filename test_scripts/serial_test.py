import serial
import time

port = serial.Serial('/dev/ttyACM0', 115200)
print(f"Opened serial port {port}")

#  # Drive
# port.write(bytearray([0xBE, 0xEF, 0x81, 0x32, 0x32, 0x32, 0x32, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
# port.flush()

# # Intake
# time.sleep(0.01)
# port.write(bytearray([0xBE, 0xEF, 0x83, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
# port.flush()

# # Deploy
# time.sleep(0.01)
# port.write(bytearray([0xBE, 0xEF, 0x82, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
# port.flush()

# # Stop Driving
# time.sleep(0.01)
# port.write(bytearray([0xBE, 0xEF, 0x81, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
# port.flush()

while True: 
    # Drive
    port.write(bytearray([0xBE, 0xEF, 0x81, 0x32, 0x32, 0x32, 0x32, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
    # Intake
    port.write(bytearray([0xBE, 0xEF, 0x83, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
    # Deploy
    port.write(bytearray([0xBE, 0xEF, 0x82, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
    port.flush()
    time.sleep(0.1)


# Stop Driving
time.sleep(0.01)
port.write(bytearray([0xBE, 0xEF, 0x81, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))
port.flush()

port.close() 
